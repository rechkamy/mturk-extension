from sklearn.neighbors import NearestNeighbors

samples = [[1., 1., 0., 1., 0.], [0., 0., 0., 0., 0.], [0., 0., 0., 0., 1.], [0., 0., 0., 1., 0.],
            [0., 0., 0., 1., 1.], [0., 0., 1., 0., 0.], [0., 0., 1., 0., 1.], [0., 0., 1., 1., 0.],
            [0., 0., 1., 1., 1.], [0., 1., 0., 0., 0.], [0., 1., 0., 0., 1.], [0., 1., 0., 1., 0.],
            [0., 1., 0., 1., 1.], [0., 1., 1., 0., 0.], [0., 1., 1., 0., 1.], [0., 1., 1., 1., 0.],
            [0., 1., 1., 1., 1.], [1., 0., 0., 0., 0.], [1., 0., 0., 0., 1.], [1., 0., 0., 1., 0.]]

userCompletedTasks = {1: [99, 98, 95, 32],
                      2: [15, 18, 20, 67],
                      3: [22, 90],
                      4: [43, 78, 12],
                      5: [2, 18],
                      6: [88, 72, 33, 18, 21],
                      7: [],
                      8: [45],
                      9: [],
                      10: [11, 12, 13],
                      11: [44, 17],
                      12: [67, 34, 1],
                      13: [77, 5, 63],
                      14: [12, 13, 14],
                      15: [],
                      16: [72],
                      17: [58, 96, 13],
                      18: [15, 18, 22, 39],
                      19: [6],
                      20: [22]}


def main(abilities):
    neigh = NearestNeighbors(n_neighbors=5)
    neigh.fit(samples)
    tasks = []

    for t,y in neigh.kneighbors(abilities):
        tasks.append(y[0][0])

    return tasks
